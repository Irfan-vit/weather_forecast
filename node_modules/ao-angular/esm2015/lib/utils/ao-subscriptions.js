/**
 * @fileoverview added by tsickle
 * Generated from: lib/utils/ao-subscriptions.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
export class AOSubscriptions {
    constructor() {
        this.add = (/**
         * @template THIS
         * @this {THIS}
         * @param {?} name
         * @param {?} subscription
         * @return {THIS}
         */
        (name, subscription) => {
            this[name] = subscription;
            return this;
        });
        this.stop = (/**
         * @template THIS
         * @this {THIS}
         * @param {?=} names
         * @return {THIS}
         */
        (names = null) => {
            Object.keys(this).filter((/**
             * @param {?} name
             * @return {?}
             */
            name => ['add', 'stop'].indexOf(name) == -1)).forEach((/**
             * @param {?} name
             * @return {?}
             */
            name => {
                if (names === null || names.indexOf(name + '') >= 0) {
                    this[name].unsubscribe();
                }
            }));
            return this;
        });
        /** @type {?} */
        const handler = {
            /**
             * @param {?} obj
             * @param {?} prop
             * @param {?} value
             * @return {?}
             */
            set(obj, prop, value) {
                if (obj[prop] && obj[prop].unsubscribe) {
                    obj[prop].unsubscribe();
                }
                Reflect.set(obj, prop, value);
                return value;
            }
        };
        return new Proxy(this, handler);
    }
}
if (false) {
    /** @type {?} */
    AOSubscriptions.prototype.add;
    /** @type {?} */
    AOSubscriptions.prototype.stop;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW8tc3Vic2NyaXB0aW9ucy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FvLWFuZ3VsYXIvIiwic291cmNlcyI6WyJsaWIvdXRpbHMvYW8tc3Vic2NyaXB0aW9ucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUVBLE1BQU0sT0FBTyxlQUFlO0lBSzFCO1FBZ0JTLFFBQUc7Ozs7Ozs7UUFBRyxDQUFDLElBQVksRUFBRSxZQUEwQixFQUFFLEVBQUU7WUFDMUQsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLFlBQVksQ0FBQztZQUMxQixPQUFPLElBQUksQ0FBQztRQUNkLENBQUMsRUFBQztRQUVPLFNBQUk7Ozs7OztRQUFHLENBQUMsUUFBa0IsSUFBSSxFQUFFLEVBQUU7WUFDekMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNOzs7O1lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsQ0FBQyxPQUFPOzs7O1lBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ25GLElBQUksS0FBSyxLQUFLLElBQUksSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ25ELElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDMUI7WUFDSCxDQUFDLEVBQUMsQ0FBQztZQUVILE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQyxFQUFDOztjQTVCTSxPQUFPLEdBQUc7Ozs7Ozs7WUFDZCxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLO2dCQUNsQixJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFO29CQUN0QyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7aUJBQ3pCO2dCQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFFOUIsT0FBTyxLQUFLLENBQUM7WUFDZixDQUFDO1NBQ0Y7UUFFRCxPQUFPLElBQUksS0FBSyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNsQyxDQUFDO0NBdUNGOzs7SUFyQ0MsOEJBR0U7O0lBRUYsK0JBUUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzL2ludGVybmFsL1N1YnNjcmlwdGlvbic7XHJcblxyXG5leHBvcnQgY2xhc3MgQU9TdWJzY3JpcHRpb25zIHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHJldHVybiBhbnlcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGNvbnN0IGhhbmRsZXIgPSB7XHJcbiAgICAgIHNldChvYmosIHByb3AsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKG9ialtwcm9wXSAmJiBvYmpbcHJvcF0udW5zdWJzY3JpYmUpIHtcclxuICAgICAgICAgIG9ialtwcm9wXS51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgUmVmbGVjdC5zZXQob2JqLCBwcm9wLCB2YWx1ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb3h5KHRoaXMsIGhhbmRsZXIpO1xyXG4gIH1cclxuXHJcbiAgcmVhZG9ubHkgYWRkID0gKG5hbWU6IHN0cmluZywgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24pID0+IHtcclxuICAgIHRoaXNbbmFtZV0gPSBzdWJzY3JpcHRpb247XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICByZWFkb25seSBzdG9wID0gKG5hbWVzOiBzdHJpbmdbXSA9IG51bGwpID0+IHtcclxuICAgIE9iamVjdC5rZXlzKHRoaXMpLmZpbHRlcihuYW1lID0+IFsnYWRkJywgJ3N0b3AnXS5pbmRleE9mKG5hbWUpID09IC0xKS5mb3JFYWNoKG5hbWUgPT4ge1xyXG4gICAgICBpZiAobmFtZXMgPT09IG51bGwgfHwgbmFtZXMuaW5kZXhPZihuYW1lICsgJycpID49IDApIHtcclxuICAgICAgICB0aGlzW25hbWVdLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8vIHByaXZhdGUgc3Vic2NyaXB0aW9ucyA9IHt9O1xyXG4gIC8vXHJcbiAgLy8gYWRkKG5hbWU6IHN0cmluZywgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24pIHtcclxuICAvLyAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbnNbbmFtZV0pIHtcclxuICAvLyAgICAgdGhpcy5zdWJzY3JpcHRpb25zW25hbWVdLnVuc3Vic2NyaWJlKCk7XHJcbiAgLy8gICB9XHJcbiAgLy9cclxuICAvLyAgIHRoaXMuc3Vic2NyaXB0aW9uc1tuYW1lXSA9IHN1YnNjcmlwdGlvbjtcclxuICAvL1xyXG4gIC8vICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcclxuICAvLyB9XHJcbiAgLy9cclxuICAvLyBzdG9wID0gKG5hbWVzOiBzdHJpbmdbXSA9IG51bGwpID0+IHtcclxuICAvLyAgIE9iamVjdC5rZXlzKHRoaXMuc3Vic2NyaXB0aW9ucykuZm9yRWFjaChuYW1lID0+IHtcclxuICAvLyAgICAgaWYgKG5hbWVzID09PSBudWxsIHx8IG5hbWVzLmluZGV4T2YobmFtZSArICcnKSA+PSAwKSB7XHJcbiAgLy8gICAgICAgdGhpcy5zdWJzY3JpcHRpb25zW25hbWVdLnVuc3Vic2NyaWJlKCk7XHJcbiAgLy8gICAgIH1cclxuICAvLyAgIH0pO1xyXG4gIC8vXHJcbiAgLy8gICByZXR1cm4gdGhpcztcclxuICAvLyB9O1xyXG5cclxufVxyXG4iXX0=